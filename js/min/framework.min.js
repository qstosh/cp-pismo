"use strict";function CpLogger(e,t){switch(this.fatal=this.error=this.warn=this.info=this.debug=this.trace=Cp.noop,e=e.name?e.name:e,t||this.constructor.OFF){case this.constructor.TRACE:this.trace=console.log.bind(console,"[TRACE][",e,"]");case this.constructor.DEBUG:this.debug=console.debug.bind(console,"[DEBUG][",e,"]");case this.constructor.INFO:this.info=console.info.bind(console,"[INFO ][",e,"]");case this.constructor.WARN:this.warn=console.warn.bind(console,"[WARN ][",e,"]");case this.constructor.ERROR:this.error=console.error.bind(console,"[ERROR][",e,"]");case this.constructor.FATAL:this.fatal=console.error.bind(console,"[FATAL][",e,"]");case this.constructor.OFF:}}function CpEventManager(){this._events={}}function CpWatterfallWrapper(e,t){if(!Cp.isObject(e)||!Cp.isFunction(e.constructor))throw new TypeError;this._object=e,Cp.each(e.constructor.prototype,function(e,t){this[e]=function(){return t.apply(this._object,arguments)}}.bind(this)),Cp.initObject(this,t)}var Cp=Cp||{};Cp.global=this,Cp.name="Cp",Cp.noop=function(){},Cp.isNull=function(e){return null===e||void 0===e},Cp.isArray=function(e){return"array"==Cp.typeOf(e)||"object"==Cp.typeOf(e)&&"Array"==e.constructor.name},Cp.typeOf=function(e){return typeof e},Cp.isIterable=function(e){var t=Cp.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},Cp.isString=function(e){return"string"==typeof e},Cp.isBoolean=function(e){return"boolean"==typeof e},Cp.isNumber=function(e){return"number"==typeof e},Cp.isFunction=function(e){return"function"==Cp.typeOf(e)},Cp.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},Cp.isHashMap=function(e){var t=typeof e;return"object"==t&&"function"==typeof e.constructor},Cp.arrayRemove=function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},Cp.each=function(e,t){if(!Cp.isFunction(t))throw new TypeError;for(var n in e)if(e.hasOwnProperty(n)&&!1===t(n,e[n]))break},Cp.extend=function(){return jQuery.extend.apply(jQuery,arguments)},Cp.toArray=function(e){return Array.prototype.slice.call(e,0)},Cp.camelCase=function(e){return e.replace(/[-_ ](.)/g,function(e,t){return t.toUpperCase()})},Cp.initObject=function(e,t){Cp.each(t||{},function(e,t){var n=this[Cp.camelCase("set_"+e)];Cp.isFunction(n)&&n.call(this,t)}.bind(e))},Cp.escapeRegex=function(e){return e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},Cp.debounce=function(e,t){if(!Cp.isFunction(e))throw new TypeError;var n;return function(){window.clearTimeout(n),n=window.setTimeout(e,t||50)}.bind(this)},Cp.inherits=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},CpLogger.OFF=0,CpLogger.FATAL=1,CpLogger.ERROR=2,CpLogger.WARN=4,CpLogger.INFO=8,CpLogger.DEBUG=16,CpLogger.TRACE=32,CpLogger._loggerRules=[],CpLogger._loggerInstances={},CpLogger.setLevel=function(e,t){if(e=e.name?e.name:e,Cp.isString(e)&&(e=new RegExp("^"+Cp.escapeRegex(e)+"$")),!(e instanceof RegExp))throw new TypeError;CpLogger._loggerRules.push({pattern:e,level:t})},CpLogger._getLoggingLevel=function(e){if(e=e.name?e.name:e,!Cp.isString(e))throw new TypeError;var t=CpLogger.OFF;return Cp.each(CpLogger._loggerRules,function(n,r){r.pattern.exec(e)&&(t=r.level)}),t},CpLogger.create=function(e){var t=new CpLogger(e,CpLogger._getLoggingLevel(e)||CpLogger.OFF);return(Cp.isFunction(e)||Cp.isObject(e))&&(e.logger=t),t},CpLogger.setLevel(/.*/,CpLogger.ERROR),CpLogger.setLevel(/^Cp.*/,CpLogger.TRACE),CpLogger.create=function(e){var t=new CpLogger(e,CpLogger._getLoggingLevel(e)||CpLogger.OFF);return(Cp.isFunction(e)||Cp.isObject(e))&&(e.logger=t),t},CpLogger.setLevel(/.*/,CpLogger.DEBUG),CpEventManager.prototype.on=function(e,t){return Cp.isFunction(t)?(this._events[e]=this._events[e]||[],this._events[e].push(t),this):this},CpEventManager.prototype.trigger=function(e,t){return Cp.each(this._events[e]||[],function(e,n){n(t)}),this},CpEventManager.prototype.off=function(e){return this._events[e]=[],this},CpWatterfallWrapper.prototype.getBinded=function(){var e=Cp.toArray(arguments),t=this._object[e.shift()];if(!Cp.isFunction(t))throw new TypeError("Specified field is not a function");return e.unshift(this._object),t.bind.apply(t,e)},CpWatterfallWrapper.prototype.getBindedSync=function(){var e=Cp.toArray(arguments),t=this._object[e.shift()];if(!Cp.isFunction(t))throw new TypeError("Specified field is not a function");return function(n){t.apply(this._object,e),Cp.isFunction(n)&&n()}.bind(this)};var CpString=CpString||{};CpString.ucfirst=function(e){return e=Cp.isString(e)?e:"",e.charAt(0).toUpperCase()+e.slice(1)};